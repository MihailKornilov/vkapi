(function(a){function b(){for(var a="",d=0;5>d;d++)a+=Math.ceil(15*Math.random()).toString(16);return a}function e(a,d,c,b,f){a[d]?c.apply(b):(f=f||0,1E3>f&&setTimeout(function(){e(a,d,c,b,f+1)},0))}function f(n){setTimeout(function(){var d=document.createElement("script");d.type="text/javascript";d.src=n||a.fastXDM.helperUrl;e(document,"body",function(){document.getElementsByTagName("HEAD")[0].appendChild(d)})},0)}function k(a,d){var c;switch(typeof a){case "string":c=d?a.replace(/&/g,"&amp;").replace(/</g,
"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):a.replace(/&#039;/g,"'").replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&");break;case "object":if("[object Array]"===Object.prototype.toString.apply(a)){c=[];for(var b=0,e=a.length;b<e;b++)c[b]=k(a[b],d)}else for(b in c={},a)Object.hasOwnProperty.call(a,b)&&(c[b]=k(a[b],d));break;default:c=a}return c}function l(a,d){g.loaded?a.apply(d,[g]):m.push([d,a])}function p(){g.loaded=!0;for(var a=
0,d=m.length;a<d;a++)m[a][1].apply(m[a][0],[g])}function q(a,d){l(function(c){var b=c.json.parse(a);if(b[0]){b[1]||(b[1]=[]);c=0;for(var e=b[1].length;c<e;c++)if(b[1][c]&&b[1][c]._func){var f=b[1][c]._func;b[1][c]=function(){var a=Array.prototype.slice.call(arguments);a.unshift("_func"+f);d.callMethod.apply(d,a)}}else d.options.safe&&(b[1][c]=k(b[1][c],!0));setTimeout(function(){if(!d.methods[b[0]])throw Error("fastXDM: Method "+b[0]+" is undefined");d.methods[b[0]].apply(d,b[1])},0)}})}function r(a,
b){for(var c in b)a[c]&&"object"===typeof a[c]?r(a[c],b[c]):a[c]=b[c]}if(!a.fastXDM){var h={},m=[],g={};a.fastXDM={_id:0,helperUrl:"https://vk.com/js/api/xdmHelper.js",Server:function(n,d,c){this.methods=n||{};this.filter=d;this.options=c||{};this.id=a.fastXDM._id++;this.key=b();this.frameName="fXD"+this.key;this.server=!0;this.methods["%init%"]=this.methods.__fxdm_i=function(){a.fastXDM.run(this.id);if(this.methods.onInit)this.methods.onInit()};h[this.key]=[q,this]},Client:function(b,d){this.methods=
b||{};this.options=d||{};this.id=a.fastXDM._id++;this.client=!0;a.fastXDM.run(this.id);if(0===window.name.indexOf("fXD"))this.key=window.name.substr(3);else throw Error("Wrong window.name property.");this.caller=window.parent;h[this.key]=[q,this];a.fastXDM.on("helper",function(){a.fastXDM.onClientStart(this)},this);l(function(a){a.send(this,a.json.stringify(["%init%"]));var b=this.methods;setTimeout(function(){if(b.onInit)b.onInit()},0)},this)},onMessage:function(a){var b=a.data;if(!b||"string"!==
typeof b&&!(b instanceof String))return!1;var c=b.substr(0,5);if(h[c]){var e=h[c][1];if(e&&(!e.filter||e.filter(a.origin)))h[c][0](b.substr(6),e)}},setJSON:function(a){g.json=a},getJSON:function(a){if(!a)return g.json;l(function(b){a(b.json)})},setEnv:function(a){for(var b in a)g[b]=a[b];p()},_q:{},on:function(a,b,c){this._q[a]||(this._q[a]=[]);-1==this._q[a]?b.apply(c):this._q[a].push([b,c])},run:function(a){for(var b=(this._q[a]||[]).length,c=0;c<b;c++)this._q[a][c][0].apply(this._q[a][c][1]);this._q[a]=
-1},waitFor:e};a.fastXDM.Server.prototype.start=function(b,d){if(b.contentWindow)this.caller=b.contentWindow,this.frame=b,a.fastXDM.on("helper",function(){a.fastXDM.onServerStart(this)},this);else{var c=this;d=d||0;50>d&&setTimeout(function(){c.start.apply(c,[b,d+1])},100)}};a.fastXDM.Server.prototype.destroy=function(){delete h[this.key]};a.fastXDM.Server.prototype.append=function(a,b,c){var e=document.createElement("DIV");e.innerHTML='<iframe name="'+this.frameName+'" '+(c||"")+"></iframe>";var f=
e.firstChild,g=this;setTimeout(function(){f.frameBorder="0";b&&r(f,b);a.insertBefore(f,a.firstChild);g.start(f)},0);return f};a.fastXDM.Client.prototype.callMethod=a.fastXDM.Server.prototype.callMethod=function(){for(var b=Array.prototype.slice.call(arguments),d=b.shift(),c=0,f=b.length;c<f;c++)if("function"===typeof b[c]){this.funcsCount=(this.funcsCount||0)+1;var g=b[c],h="_func"+this.funcsCount;this.methods[h]=function(){g.apply(this,arguments);delete this.methods[h]};b[c]={_func:this.funcsCount}}else this.options.safe&&
(b[c]=k(b[c],!1));e(this,"caller",function(){a.fastXDM.on(this.id,function(){l(function(a){a.send(this,a.json.stringify([d,b]))},this)},this)},this)};a.JSON&&"object"===typeof a.JSON&&a.JSON.parse&&a.JSON.stringify&&'{"a":[1,2,3]}'===a.JSON.stringify({a:[1,2,3]}).replace(/ /g,"")?g.json={parse:a.JSON.parse,stringify:a.JSON.stringify}:a.fastXDM._needJSON=!0;a.postMessage?(g.protocol="p",g.send=function(a,b){var c=a.frame?a.frame.contentWindow:a.caller;if(c)try{c.postMessage(a.key+":"+b,"*")}catch(e){window.postMessage.call(c,
a.key+":"+b,"*")}},a.addEventListener?a.addEventListener("message",a.fastXDM.onMessage,!1):a.attachEvent("onmessage",a.fastXDM.onMessage),a.fastXDM._needJSON?(a.fastXDM._onlyJSON=!0,f()):p()):f()}})(window);window.VK||(window.VK={});VK._Rpc=null;VK._v=!1;VK._callbacks={};VK._initQueue=[];VK._inited=!1;VK.init=function(a,b,e){e&&(VK._v=e);VK._inited?VK.isFunc(a)&&a():(VK._inited=!0,parent||b(),window.vk_onConnectionInit=function(){VK.isFunc(a)&&a()},VK.initXDConn())};
VK.initXDConn=function(){VK.fxdm=!0;VK._Rpc=new fastXDM.Client({onInit:function(){for(;0<VK._initQueue.length;){var a=VK._initQueue.pop();VK.isFunc(a)&&a()}window.vk_onConnectionInit()},runCallback:function(a){var b;b=a.shift();VK.isFunc(VK._callbacks[b])&&VK._callbacks[b].apply(VK,a)},getHeight:function(a){var b=function(){var a=document.body.offsetHeight;if(a){if(void 0!==window.getComputedStyle)var b=window.getComputedStyle(document.body,null),a=a+parseInt(b.getPropertyValue("margin-top").replace("px",
"")),a=a+parseInt(b.getPropertyValue("margin-bottom").replace("px",""));else a+=parseInt(document.body.currentStyle.marginTop.replace("px","")),a+=parseInt(document.body.currentStyle.marginBottom.replace("px",""));return a}return document.body.scrollHeight},e=function(){VK._Rpc.callMethod("setHeight",b())};setInterval(e,1E3);document.addEventListener("click",function(){setTimeout(e,0)},!1);document.addEventListener("DOMSubtreeModified",function(){setTimeout(e,0)});return a(b())}});VK._Rpc.ApiCall=
function(a,b){VK._Rpc.callMethod("ApiCall",a,b)}};VK.callMethod=function(){var a=Array.prototype.slice.call(arguments),b;null!=VK._Rpc?VK.fxdm?VK._Rpc.callMethod.apply(VK._Rpc,a):(VK.isFunc(a[a.length-1])&&(b=a.pop()),VK._Rpc.callMethod(a,b)):(VK._initQueue.push(function(){VK.callMethod.apply(VK,a)}),VK.init())};VK.addCallback=function(a,b){b&&(VK._callbacks[a]=b)};VK.removeCallback=function(a){VK._callbacks[a]&&delete VK._callbacks[a]};VK.isFunc=function(a){return"[object Function]"===Object.prototype.toString.call(a)};
VK.params={};VK.loadParams=function(a){if("Object"==typeof a)VK.params=a;else{a=a.substr(a.indexOf("?")+1).split("&");for(var b=a.length;b--;){var e=a[b].split("=");VK.params[e[0]]=decodeURIComponent(e[1])}}};VK.addScript=function(a){var b=document.createElement("script");b.type="text/javascript";b.src=a;document.getElementsByTagName("head")[0].appendChild(b)};
VK.api=function(){var a=Array.prototype.slice.call(arguments),b;null!=VK._Rpc?(VK.isFunc(a[a.length-1])&&(b=a.pop()),a[1]||(a[1]={}),!a[1].v&&VK._v&&(a[1].v=VK._v),VK._Rpc.ApiCall(a,b)):(VK._initQueue.push(function(){VK.api.apply(VK,a)}),VK.init())};
VK.Modules={callbacks:{},loaded:function(a){if(this.callbacks[a])for(var b=this.callbacks[a].length;b--;)if(VK.isFunc(this.callbacks[a][b]))this.callbacks[a][b]()},load:function(a,b,e){this.callbacks[a]?this.callbacks[a].push(b):(this.callbacks[a]=[b],null==e&&(e="https://vk.com/js/api/modules/"+a+".js"),VK.addScript(e))}};VK.showPortlet=function(a){VK.callMethod("showPortlet",a)};VK._protocol="https:";(function(){try{var a=document.getElementsByTagName("script");VK._base_domain=a[a.length-1].src.match(/^https?:\/\/((?:\w+\.)*vk.com)/)[1]}catch(b){}})();
VK.Widgets||(VK.Widgets=function(){var a={},b="Comments CommentsBrowse Recommended Post Like Poll Group Auth Subscribe ContactUs Ads AllowMessagesFromCommunity CommunityMessages".split(" ");VK.xdConnectionCallbacks=[];for(var e=b.length;e--;)(function(b){a[b]=function(){var a=arguments;VK.xdConnectionCallbacks.push(function(){VK._iframeAppWidget=!0;VK.Widgets[b].apply(VK,a)});VK._openApiAttached||(VK.callMethod("_getAppInfo",function(a){var b=VK._base_domain&&VK._base_domain.match(/^(\w+\.)*vk.com$/)?
VK._base_domain:"vk.com";VK._apiId=a[0];VK._browserHash=a[1];VK.addScript(VK._protocol+"//"+b+"/js/api/openapi.js?136")}),VK._openApiAttached=!0)}})(b[e]);return a}());
VK.External={showPaymentBox:function(a){VK.callMethod("showPaymentBox",a)},showSettingsBox:function(a){VK.callMethod("showSettingsBox",a)},showInstallBox:function(){VK.callMethod("showInstallBox")},showInviteBox:function(){VK.callMethod("showInviteBox")},resizeWindow:function(a,b){VK.callMethod("resizeWindow",a,b)},scrollWindow:function(a,b){VK.callMethod("scrollWindow",a,b)},setLocation:function(a,b){VK.callMethod("setLocation",a,b)},setTitle:function(a){VK.callMethod("setTitle",a)},saveWallPost:function(a){VK.callMethod("saveWallPost",
a)},showProfilePhotoBox:function(a){VK.callMethod("showProfilePhotoBox",a)},showMerchantPaymentBox:function(a){VK.callMethod("showMerchantPaymentBox",a)}};
